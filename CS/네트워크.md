[TOC]

# 네트워크

노드들이 데이터를 공유할 수 있게 하는 디지털 전기통신망의 하나

분산되어 있는 컴퓨터를 통신망으로 연결한 것

네트워크에서 여러 장치들은 노드 간 연결을 사용하여 서로에게 데이터를 교환

> **노드** : 네트워크에 속한 컴퓨터/통신 장비

- 분류

  - 크기

    - **LAN(Local Area Network)**

      가까운 지역을 하나로 묶은 네트워크   ex) 스타크래프트

    - **WAN(Wide Area Network)**

      멀리 있는 지역을 한데 묶은 네트워크

      가까운 지역끼리 묶인 LAN과 LAN을 다시 하나로 묶은 것

    - MAN(Metropolitan Area Network)

    - 기타 (VLAN, CAN, PAN 등)

  - 연결 형태

    - **Star 형**

      중앙 장비에 모든 노드가 연결   ex) 공유기

      LAN 대역

    - **Mesh 형**

      여러 노드들이 서로 그물처럼 연결

      WAN 대역

    - Tree 형

      마치 나무의 가지처럼 계층 구조로 연결

    - 기타 (링형, 버스형, 혼합형 등)

- 통신 방식

  - 유니 캐스트

    특정 대상이랑만 1:1로 통신

  - 멀티 캐스트

    특정 다수와 1:N으로 통신

  - 브로드 캐스트

    네트워크에 있는 모든 대상과 통신

- 모델

  - **TCP/IP 모델**

    1960년대 말 미국방성의 연구에서 시작되어 1980년대 초 프로토콜 모델로 공개

    현재의 인터넷에서 컴퓨터들이 서로 정보를 주고받는데 쓰이는 통신 규약(프로토콜)의 모음

    | 계층 |                     |      |
    | :--: | :-----------------: | ---- |
    |  4   |        응용         |      |
    |  3   |        전송         |      |
    |  2   |      네트워크       |      |
    |  1   | 네트워크 인터페이스 |      |

  - **OSI 7계층**

    1984년 네트워크 통신을 체계적으로 다루는 ISO 표준으로 지정한 모델

    데이터를 주고 받을 때 데이터 자체의 흐름을 각 구간별로 나눠 놓은 것

    | 계층 |             | 프로토콜                                                     | 기능                                                         | 주소                                         |
    | :--: | :---------: | ------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------------------- |
    |  7   |    응용     | **HTTP**, SMTP, IMAP, POP, SNMP, FTP, TELNET, SSH            |                                                              |                                              |
    |  6   |    표현     | SMB, AFP, XDR                                                |                                                              |                                              |
    |  5   |    세션     | NetBIOS                                                      |                                                              |                                              |
    |  4   |    전송     | **TCP**, **UDP**, SPX                                        |                                                              | 포트 번호                                    |
    |  3   |  네트워크   | **IP**, **ICMP**, IGMP, X.25, CLNP, **ARP**, RARP, BGP, OSPF, RIP, IPX, DDP | 다른 네트워크 대역, 멀리 떨어진 곳에 존재하는 네트워크까지 어떻게 데이터를 전달할지 제어하는 일을 담당 | IP 주소                                      |
    |  2   | 데이터 링크 | **이더넷**, 토큰링, PPP, HDLC, 프레임 릴레이, ISDN, ATM, 무선랜, FDDI | 같은 네트워크 상에 존재하는 여러 장비들 중에서 어떤 장비가 어떤 장비에게 보내는 데이터를 전달, 오류 제어, 흐름 제어 | MAC 주소 = 물리적인 주소<br />OUI + 고유번호 |
    |  1   |    물리     | 전선, 전파, 광섬유, 동축케이블, 도파관, PSTN, 리피터, DSU, CSU, 모뎀 |                                                              |                                              |

  > - 공통점
  >   - 계층적 네트워크 모델
  >   - 계층간 역할 정의
  > - 차이점
  >   - 계층의 수
  >   - OSI는 역할 기반, TCP/IP는 프로토콜 기반
  >   - OSI는 통신 전반에 대한 표준
  >   - TCP/IP는 데이터 전송기술 특화

## 인터넷

문서, 그림 영상과 같은 여러가지 데이터를 공유하도록 구성된 세상에서 가장 큰 전세계를 연결하는 네트워크

혼합형

> **www** : 인터넷을 통해 웹과 관련된 데이터를 공유하는 것 (www ≠ 인터넷)

## 패킷

여러 프로토콜로 캡슐화 된 것   ex) Ethernet + IPv4 + TCP + 데이터

네트워크 상에서 전달되는 데이터

네트워크에서 전달하는 데이터의 형식화된 블록

제어 정보와 사용자 데이터로 이루어짐 (사용자 데이터 : 페이로드)

- 형태

  - 헤더
  - 페이로드 : 데이터
  - 풋터 : 잘 사용 X

- 통신 과정

  - 캡슐화(Encapsulation)

    여러 프로토콜을 이용해서 최종적으로 보낼 때 패킷을 만드는 과정

  - 역캡슐화(Decapsulation)

    패킷을 받았을 때 프로토콜을 하나씩 확인하면서 데이터를 확인하는 과정

- PDU(Protocol Data Unit)

  - 메시지(message) : 5~7계층
  - 세그먼트(segment) : 4계층
  - 패킷(packet) : 3계층
  - 프레임(frame) : 2계층
  - 비트(bit) : 1계층

### 프로토콜

일종의 약속, 양식

네트워크에서 노드와 노드가 통신할 때 어떤 노드가 어느 노드에게 어떤 데이터를 어떻게 보내는지 작성하기 위한 양식

- 종류

  - 2계층

    - Ethernet 프로토콜

      - 구성
        - Preamble
        - Destination address : 데이터를 전달받을 상대방 시스템의 MAC 주소 (6 Bytes)
        - Source address : 데이터를 전달하는 시스템의 MAC 주소 (6 Bytes)
        - Ethernet type : 상위 프로토콜 타입 (2 Bytes)
        - IPv4 : 0x0800
        - ARP : 0x0806
        - Data
  
  - 3계층
  
    - ICMP
  
      서로가 통신되는지 확일할 때 사용
  
    - IPv4
  
      WAN에서 통신할 때 사용
  
    - ARP
  
      IP 주소를 이용해 MAC 주소를 알아오는 것
  
  
  - 4계층
  
    여러가지 프로그램으로 연락할 때
  
    - TCP
    - UDP
  

## 주소

### IP 주소

3계층

WAN에서 통신할 때 사용하는

- 종류

  - 일반적인 IP 주소

    - Classful IP 주소

      낭비가 심함

      |        클래스         |     네트워크 구분     | 시작 주소 |   마지막 주소   |
      | :-------------------: | :-------------------: | :-------: | :-------------: |
      |       A 클래스        | 0XXXXXXX, 첫번째 필드 |  0.0.0.0  | 127.255.255.255 |
      |       B 클래스        | 10XXXXXX, 두번째 필드 | 128.0.0.0 | 191.255.255.255 |
      |       C 클래스        | 110XXXXX, 세번째 필드 | 192.0.0.0 | 223.255.255.255 |
      | D 클래스 (멀티캐스트) |       1110XXXX        | 224.0.0.0 | 239.255.255.255 |
      |    E 클래스 (예약)    |       1111XXXX        | 240.0.0.0 | 255.255.255.255 |

      > 0.0.0.0 ~ 255.255.255.255 → 00000000.00000000.00000000.00000000 ~ 11111111.11111111.11111111.11111111

    - Classless IP 주소

      낭비되지 않도록 아껴씀

      - IP주소

      - 서브넷 마스크

        네트워크 대역을 나눠주는데 사용하는 값

        어디까지가 네트워크 대역인지, 어디서부터 호스트인지 구분

        - 특징
          - 2진수로 표기했을 때 1로 시작
          - 1과 1 사이에는 0이 올 수 없음

      - 네트워크 ID

      - 브로드캐스트 주소

      - 사용 가능 IP 범위

    > **사설 IP**
    >
    > **공인 IP** : 1개당 2^32개의 사설 IP
    >
    > ※ 실제 인터넷에서는 공인 IP로만 통신. 외부 네트워크 대역에서는 사설 IP 대역 보이지 않음

  - 특수한 IP 주소

    - Wildcard : 0.0.0.0
    - 나 자신을 나타내는 주소 : 127.0.0.1
    - 게이트웨이 주소 : 이동

### MAC 주소

2계층







# 실습

- 구글과 나는 어떻게 연결되어 있는지 확인

  ```
  시작 메뉴 → cmd → tracert 8.8.8.8
  ```

- 프로토콜 직접 확인

  ```
  [Wireshark 설치]
  https://www.wireshark.org/#download
  Packet Capture에서 Install 체크박스 해제 후 Get WinPcap 클릭하여 설치
  
  Wireshark 실행
  ```

- PC의 MAC 주소 / IP 주소 확인

  ```
  cmd → ipconfig /all
  
  [OUI 확인]
  https://aruljohn.com/mac.pl
  ```

- 네이버 서버가 알고 있는 IP 주소 확인

  ```
  네이버 검색창에 'ip주소' 검색
  ```

  

