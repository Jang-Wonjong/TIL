[TOC]

# 블록체인

- 분류

| 유형       | 특징                                                         | 관련 기술                                                    |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| public     | 누구나 네트워크에 참여<br />- 메인넷<br />- 테스트넷 : Ropsten | Bitcoin, Ethereum, Zcash, Litecoin, ...                      |
| private    | 하나의 조직/기관이 관장하는 네트워크<br />승인된 주체만 자료를 읽고, 지정 노드만 거래를 승인 | Quorum, MultiChain, Iroha, Monax, ...                        |
| consortium | 이해 관계자 간에 컨소시엄을 구성하여 네트워크를 구성<br />네트워크 참여자에 의해 접근 허용 | Hyperledger Fabric, Tendermint, R3 Corda, Private Technologies, ... |



## Ethereum

- 단위 `1 ether = 10^9 Gwei = 10^18 wei`
- 0x 접두사 : 16진수. 프로그램, 계약, API에 입력이 16진수로 해석되어야 함을 알리는 방법



## Ropsten

- 환경 setting

  - MetaMask

  - Ropsten faucet : test eth 받기

  - metamask provider

    https://docs.metamask.io/guide/ethereum-provider.html

    ```
    # 연결 상태 확인
    ethereum.isConnected()
    
    # 계정 활성화
    ethereum.enable()
    
    # 활성화된 계정 확인
    ethereum.selectedAddress
    
    # Ethereum Provider로 RPC API 보내기
    ethereum.request({
        method: 'eth_blockNumber',
        params:[]
    }).then(result => console.log(result));
    
    parseInt('0xb70b96', 16)
    ```

    

# Smart Contract

- 정의 

  - 1990년대 Nick Szabo가 소개

    > 자연어로 된 계약 내용을 프로그래밍 언어로 바꾸기 위함

  - 디지털 형식으로 명시된 서약(commitment)들의 집합

  - 결코 스마트 하지 않은 단순 컴퓨터 프로그램

  - 법적 맥락 없음

  - 다소 잘못된 용어임에 불구하고 자리잡음

- 블록체인에서의 정의
  - 컴퓨터 프로그램
  - 불변 (한 번 배포되면 변경 불가)
  - 결정적 (실행한 결과가 모두 같음)
  - EVM 위에서 동작
  - 탈중앙화된 World Computer 동일한 상태를 유지

- 언어
  - Solidity
  - LLL
  - Viper
  - Assembly

## Solidity

- 컨트랙트(contract) 구조
  - 상태 변수(State Variable) : 블록체인에 값이 저장되는 변수
    - 상태 변수의 접근 제어자
      - external
      - public
      - private
  - 함수(function) : 컨트랙트 단위 기능

- 자료형
  - 논리형
    - true
    - false
  - 정수형
    - uint
    - int
  - 주소형
    - address
  - 바이트형
    - bytes
    - byte[]